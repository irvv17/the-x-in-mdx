<Video src="000.webm" start={0} end={39} />
<Browser url="/hello" loadUrl="/01" zoom={0.8} />
<Editor
  code="hello.md"
  lang="md"
  tab="demo/hello.md"
  tabs={["demo/hello.md", "pages/hello.js"]}
/>

```srt
1.9 –> 6.8
Let's start with this markdown file
I'm assuming we all know markdown
6.6 –> 12
there's a reason why it's so popular,
it has a very clean syntax
12 –> 17.1
I'm sure I'm not the only one who likes
to move as much content as possible to markdown
17.1 –> 20.7
even content that doesn't originally
belong to markdown
20.7 –> 23.7
and that's why we have MDX, right?
23.7 –> 31.4
we had to extend the original format
so we could put more things on it
31.4 –> 34
in this talk,
we'll take this to the extreme,
34 –> 39
we'll use MDX for more
unusual content and layouts.
```

---

<Video src="001.webm" start={0} end={14} />
<Browser url="/hello" loadUrl="/01" zoom={0.8} />
<Editor
  code="01.js"
  lang="jsx"
  tab="pages/hello.js"
  tabs={["demo/hello.md", "pages/hello.js"]}
/>

```srt
0.3 –> 3.7
But first I need to show you how this works
3.7 –> 7.9
we are going to start with this small React app
8 –> 14
this is using Next.js but the same applies to
any app that has the MDX loader
```

---

<Video src="002.webm" start={0} end={17} />
<Browser url="/hello" loadUrl="/01" zoom={0.8} />
<Editor
  code="01.js"
  focus="2,5[9:22]"
  lang="jsx"
  tab="pages/hello.js"
  tabs={["demo/hello.md", "pages/hello.js"]}
/>

```srt
0.2 -> 3.9
most of the magic comes from this import
3.9 -> 11.5
here the MDX loader transforms the markdown file
into a React component that we can use anywhere
11.5 -> 17
and, you can see, it renders
what you expect here on the right
```

---

<Video src="003.webm" start={0} end={20.03} />
<Browser url="/hello" loadUrl="/02" zoom={0.8} />
<Editor
  code="02.js"
  lang="jsx"
  tab="pages/hello.js"
  tabs={["demo/hello.md", "pages/hello.js"]}
/>

```srt
0.2 -> 6.5
if we want to change what's rendered,
we can use the MDXProvider component
6.5 -> 13.7
it has a components prop,
that let us override any of the default components
13.7 -> 20
for example, here we are changing all the h1s,
and adding a purple border
```

---

<Video src="004.webm" start={0} end={26.35} />
<Browser url="/hello" loadUrl="/03" zoom={0.8} />
<Editor
  code="03.js"
  focus="13:23"
  lang="jsx"
  tab="pages/hello.js"
  tabs={["demo/hello.md", "pages/hello.js"]}
/>

```srt
1.5 -> 5.1
A special component we can override
is the Wrapper
5.1 -> 16.5
the wrapper is the component that wraps the content,
here we are just adding a border to it
16.5 -> 20.5
but the cool thing about this component
is that in the children prop
20.5 -> 26.3
we get all the content from the markdown file
as React elements
```

---

<Video src="005.webm" start={0} end={36.64} />
<Browser url="/hello" loadUrl="/04" zoom={1} />
<Editor
  code="04.js"
  focus="14:20"
  lang="jsx"
  tab="pages/hello.js"
  tabs={["demo/hello.md", "pages/hello.js"]}
/>

```srt
0.3 -> 3.9
and React elements are just javascript objects
3.9 -> 8.2
so here you can see what's inside the children prop
8.2 -> 11.8
we are rendering the wrapper children as JSON
11.8 -> 16.4
and filtering some properties
to make it easier to read
16.4 -> 20.45
you'll see that it is an array
20.45 -> 24.4
the first element is an h1,
the second a paragraph
24.4 -> 28.5
each element comes with an mdxType,
28.5 -> 34.5
we can, and we will, use that mdxType to
extract information about the content
34.5 -> 36.6
or to change the elements
```

---

<Video src="006.webm" start={0} end={37.7} />
<Browser url="/hello" loadUrl="/05" zoom={1} />
<Editor
  code="05.js"
  focus="17:35"
  lang="jsx"
  tab="pages/hello.js"
  tabs={["demo/hello.md", "pages/hello.js"]}
/>

```srt
0 -> 1.5
For example
1.5 -> 5.5
we could get a list of all the H1s
from the children,
5.5 -> 9.5
and render it as a table of contents
9.5 -> 12.7
this is a simple example,
but it illustrates
12.7 -> 17.3
the pattern we are going to use
on the rest of the examples
17.3 -> 21
in all of them, first,
we extract some data from the children,
21 -> 24.7
and then we render it in a specific way
24.7 -> 27.7
keep in mind that this runs on every render
27.7 -> 31.3
in most cases, it isn't a performance problem,
31.3 -> 37.7
but if it is, you can move it to a plugin,
and run the transformation on build-time
```

---

<Video src="007.webm" start={0} end={47.68} />
<Browser url="/steps" loadUrl="/06" zoom={0.9} />
<Editor
  code="steps.mdx"
  focus="1:20"
  lang="md"
  tab="demo/steps.mdx"
  tabs={["demo/steps.mdx", "pages/steps.js"]}
/>

```srt
1 -> 4.3
I usually write content that has steps
4.3 -> 10.7
like tutorials or any type of walkthrough
where you explain something step by step
10.7 -> 16.3
markdown doesn't have any specific syntax
for grouping things in steps
16.3 -> 23.7
but we can use MDX to extend markdown
and introduce our syntax
23.7 -> 28.1
the implementation of the Step component
we are using here doesn't matter
28.1 -> 31.8
we are just using it for grouping elements
31.8 -> 35.2
if you are new to MDX,
this may not be the best introduction
35.2 -> 40
the typical use-case for MDX is embedding
interactive components in markdown
40 -> 42.7
but here we are taking a different approach,
42.7 -> 47.68
and using it more
as a syntax extension for markdown
```

---

<Video src="008.webm" start={0} end={46.89} />
<Browser url="/steps" loadUrl="/07" zoom={0.9}>
  <Action on={20.5} type="click" selector="button" />
  <Action
    on={22.5}
    type="click"
    selector="button"
    offset={50}
  />
  <Action
    on={24.5}
    type="click"
    selector="button"
    offset={50}
  />
</Browser>
<Editor
  code="07.js"
  focus="17:28"
  lang="jsx"
  tab="pages/steps.js"
  tabs={["demo/steps.mdx", "pages/steps.js"]}
/>

```srt
0 -> 5.9
now, based on the MDX file that has steps,
we can write another Wrapper component
5.9 -> 12
in this case, in the children prop,
we get one React element for each step
12 -> 16.4
so we can keep track of
what step we are showing using React state
16.4 -> 21
and let the user change the current step
with a button
25 -> 30.4
ok, now I want to show the same content
but with a different layout
30.4 -> 36.4
there's a technique called scrollytelling,
you may have seen it on some websites
36.4 -> 42
as the user scrolls down there's some
part of the layout that sticks to the screen
42 -> 45.1
while the rest is scrolled away
45.1 -> 47
let's do that
```

---

<Video src="009.webm" start={0} end={43.36} />
<Browser url="/steps" loadUrl="/08" zoom={0.6}>
  <Action on={24.5} type="scroll" selector="#step-1" />
  <Action on={30.5} type="scroll" selector="#step-2" />
  <Action on={32.5} type="scroll" selector="#step-3" />
  <Action on={34.5} type="scroll" selector="#step-0" />
</Browser>
<Editor
  code="08.js"
  focus="18:32"
  lang="jsx"
  tab="pages/steps.js"
  tabs={["demo/steps.mdx", "pages/steps.js"]}
/>

```srt
0 -> 7
since this is a lightning talk
I'll import the ScrollytellingLayout component
7 -> 12.5
I'll share the link to the repo later
if you want to see how it works
12.5 -> 17.2
the ScrollytellingLayout component
takes two props
17.2 -> 23.8
one for the left-side that can be scrolled,
and the other for the sticky part on the right
23.8 -> 27.2
when the user scrolls to a new step
27.2 -> 30.4
we show the corresponding element
from the sticker list
36.2 -> 44
now, instead of showing the step number,
let's add the sticker content to the MDX file
```

---

<Video src="010.webm" start={0} end={18.47} />
<Browser url="/steps" loadUrl="/09" zoom={0.6} />
<Editor
  code="steps.2.mdx"
  focus="3:9,17:23,30"
  focus="19:23,30:37,44"
  lang="md"
  tab="demo/steps.mdx"
  tabs={["demo/steps.mdx", "pages/steps.js"]}
/>

```srt
2.8 -> 7.5
suppose we want to show some code
in the sticky part of the layout
7.5 -> 14
there isn't any specific syntax for this,
so we need to create our own convention
14 -> 19
like, for example, we put the sticky part
of the step as the first element
```

---

<Video src="011.webm" start={0} end={18.07} />
<Browser url="/steps" loadUrl="/10" zoom={0.6}>
  <Action on={12} type="scroll" selector="#step-1" />
  <Action on={14.5} type="scroll" selector="#step-2" />
  <Action on={17} type="scroll" selector="#step-3" />
</Browser>
<Editor
  code="10.js"
  focus="18:32"
  lang="jsx"
  tab="pages/steps.js"
  tabs={["demo/steps.mdx", "pages/steps.js"]}
/>

```srt
0.8 -> 3.8
now, doing some array transformations
3.8 -> 10.2
we get the list of steps and the list of stickers
and pass them to the same Layout component
10.2 -> 12.5
so when the user scrolls...
13.5 -> 15
the code on the right...
15 -> 19
should change accordingly
```

---

<Video src="012.webm" start={0} end={42.43} />
<Browser url="/steps" loadUrl="/11" zoom={0.6}>
  <Action on={10.8} type="scroll" selector="#step-1" />
  <Action on={12.9} type="scroll" selector="#step-2" />
  <Action on={15} type="scroll" selector="#step-3" />
  <Action on={18} type="scroll" selector="#step-0" />
</Browser>
<Editor
  code="11.js"
  focus="19,26:38"
  lang="jsx"
  tab="pages/steps.js"
  tabs={["demo/steps.mdx", "pages/steps.js"]}
/>

```srt
1 -> 7.5
just for fun, I have a Terminal component
that animates between code transitions
7.5 -> 10
so we can use it for the stickers
21.7 -> 25.4
I've been experimenting with
another layout for walkthroughs
25.4 -> 30.2
instead of changing the steps
using the scroll like in this example
30.2 -> 38.1
we can synchronize the steps with some media,
like a video or audio, maybe a podcast
28.1 -> 43
and change the steps as the media progress
```

---

<Video src="013.webm" start={0} end={8.72} />
<Browser url="/steps" loadUrl="/11" zoom={0.6} />
<Editor
  code="steps.3.mdx"
  focus="3,17,19,30"
  lang="md"
  tab="demo/steps.mdx"
  tabs={["demo/steps.mdx", "pages/steps.js"]}
/>

```srt
0.6 -> 3
to do that,
in the MDX file
3 -> 9
we need to specify the media file
and the time range for each step
```

---

<Video src="014.webm" start={0} end={36.17} />
<Browser url="/steps" loadUrl="/13" zoom={0.6} />
<Editor
  code="13.js"
  focus="18,28:40"
  lang="jsx"
  tab="pages/steps.js"
  tabs={["demo/steps.mdx", "pages/steps.js"]}
/>

```srt
0.6 -> 8
once we have that, we can extract it
from the children on the Wrapper
8 -> 10.2
and pass it to another React component
10.2 -> 18
this time is the TalkLayout component,
that will solve all the synching for us
18 -> 23
and you should see the steps changing
every time I snap the fingers
26.3 -> 32.1
some of you may have noticed that this
looks similar to the layout of this talk
32.1 -> 34.1
that I'm giving right now
34.1 -> 37
and it is
```

---

<Video src="015.webm" start={0} end={14.04} />
<Browser url="/" zoom={0.4} />
<Editor
  code="cake.mdx"
  focus="489:509"
  lang="md"
  tab="demo/cake.mdx"
  tabs={["demo/cake.mdx", "pages/index.js"]}
/>

```srt
0.7 -> 4.4
this talk was built using this same technique
4.4 -> 7.3
it's all MDX
7.3 -> 9.7
for example, here on the left
9.7 -> 15
you can see the code for the step
you are currently watching
```

---

<Video src="016.webm" start={0} end={4} />
<Browser url="/" zoom={0.4} />
<Editor
  code="cake.mdx"
  focus="513:526"
  lang="md"
  tab="demo/cake.mdx"
  tabs={["demo/cake.mdx", "pages/index.js"]}
/>

```srt
0 -> 4
and here is the next step
```

---

<Video src="017.webm" start={0} end={41.53} />
<Browser
  url="https://codehike.org"
  zoom={0.5}
  prependOrigin={false}
/>
<Editor
  code="package.json.copy"
  focus="2:16"
  lang="json"
  tab="package.json"
  tabs={["package.json"]}
/>

```srt
1.5 -> 4.2
and, that's all
that's all I have
4.2 -> 12.8
the takeaway is: you can use MDX to build
your own dialect tailored for any specific layout
12.8 -> 16.2
I leave you here the links
to the repo of the talk
16.2 -> 18
not the slides
but the talk itself
18 -> 22.7
you run yarn dev
and you can watch this talk again
22.7 -> 26.7
also, there's my twitter,
and the components we used
26.7 -> 29.5
most of them come
from a new project I'm working on
29.5 -> 34.5
it's called Code Hike
and it focuses on code walkthroughs
34.5 -> 40
and tools for making it easy
to explain code
40 -> 42
thank you!
```
